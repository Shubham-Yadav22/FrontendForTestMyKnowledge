"use client";
import React from "react";
import Header from "@/app/components/Header";
import { Poppins, Michroma } from "next/font/google";
import { useQuizStore } from "../store/quizStore";
import { useAuth } from "@clerk/nextjs";



const poppins = Poppins({
  weight: "400",
  subsets: ["latin"],
});

const michroma = Michroma({
  weight: "400",
  subsets: ["latin"],
});

const QuizPlayer = () => {

  const {getToken} = useAuth()

  const {
    quizData,
    currentQuestionIndex,
    answers,
    answerQuestion,
    next,
    prev,
    openSubmitConfirm,
    showSubmitConfirm,
    closeSubmitConfirm,
    submitQuiz,
    difficulty,
    numQuestions,
    videoDetails
  } = useQuizStore();

  const question = quizData?.questions[currentQuestionIndex];
  const selected = answers[currentQuestionIndex];
  const totalQuestions = quizData?.questions?.length ?? 0;


  return (
    <div className="relative w-full min-h-screen">
      {/* Main content (blurred when submit confirm is open) */}
      <div className={`${showSubmitConfirm ? "blur-sm pointer-events-none" : ""}`}>
        <Header />

        {/* Heading + Description */}
        <div className="mx-6 lg:mx-24">
          <div className="flex flex-col lg:flex-row justify-between gap-6 mt-10">
            {/* Heading */}
            <h1
              className={`text-3xl sm:text-4xl lg:text-5xl ${michroma.className}`}
            >
              <span className="text-[#5D85A1]">Smart</span> Tools
            </h1>

            {/* Description */}
            <p
              className={`text-sm sm:text-base lg:text-lg text-[#646464] ${poppins.className} w-full lg:w-1/2 text-left lg:text-right`}
            >
              Yuki gives you everything you need to study efficiently from
              solving doubts on any lecture to creating quizzes, crafting
              personalized study plans, and chatting directly with your study
              materials.
            </p>
          </div>
        </div>

        {/* Quiz Information */}
        <div className="lg:w-[1330px] lg:h-[1010px] rounded-2xl lg:mx-[100px] bg-[#B9CDDD] mt-20 flex flex-col border-black border-2">
          <div className="flex gap-9 m-6 border-b-1 border-black p-2 pb-4">
            {/* video */}
            <div className="lg:w-[360px] lg:h-[203px] rounded-2xl bg-white text-center">
            {videoDetails && <img
                  src={videoDetails?.thumbnail_url}
                  alt={videoDetails?.title}
                  className="w-full lg:h-[203px] sm:h-[250px] object-cover rounded-2xl"
                />}
            </div>

            {/* quiz settings */}
            <div className="flex flex-col gap-4 lg:w-[510px] lg:h-[50px]">
              {/* Number of Questions */}
              <div className="flex flex-col gap-3 ">
                <p
                  className={`text-[#646464] text-base sm:text-lg ${poppins.className}`}
                >
                  Number of Questions
                </p>
                <div className="w-full h-[45px] sm:h-[50px] rounded-3xl bg-white border border-[#B9CDDD] flex items-center gap-2 p-1">
                  <button className={`flex-1 h-full rounded-3xl ${poppins.className} bg-[#B8CCDB] text-white shadow-sm`}>
                    {numQuestions}
                  </button>
                </div>
              </div>

              {/* Difficulty Level */}
              <div className="flex flex-col gap-3">
                <p
                  className={`text-[#646464] text-base sm:text-lg ${poppins.className}`}
                >
                  Difficulty Level
                </p>

                <div className="w-full h-[45px] sm:h-[50px] rounded-3xl border-2 bg-white border-[#B9CDDD] flex items-center gap-2 p-1">
                  <button className={`flex-1 h-full rounded-3xl ${poppins.className} bg-[#B8CCDB] text-white shadow-sm`}>
                    {difficulty}
                  </button>
                </div>
              </div>
            </div>

            {/* Attempted and Submit */}
            <div className="flex flex-col gap-2">
              <div className="flex flex-col bg-white rounded-2xl lg:w-[214px] lg:h-[76px] my-auto justify-center">
                <p
                  className={`text-sm ${poppins.className} text-green-500 gap-1 border-b-1 text-center pb-2`}
                >
                  Attempted - {Object.keys(answers).length}
                </p>
                <p
                  className={`text-sm ${poppins.className} text-red-500 gap-1 text-center text-bold pt-2`}
                >
                  Remaining - {Math.max(0, (quizData?.questions.length || 0) - Object.keys(answers).length)}
                </p>
              </div>

              {/* Submit Button */}
              <button
                onClick={() => openSubmitConfirm()}
                className={`lg:w-[214px] lg:h-[40px] text-center hover:bg-[#60ade8] bg-[#558BB3] rounded-2xl text-white ${poppins.className} mb-4`}
              >
                Submit Quiz
              </button>
            </div>
          </div>

          {/* Quiz presenting area */}
          <div className="lg:w-[1280px] lg:h-[680px] bg-white rounded-2xl mx-auto relative">
            <div
              className={`lg:w-full lg:h-[160px] ${poppins.className} border-b-1 border-[#7B9EB9] rounded-t-2xl flex flex-col gap-4 items-start px-7 pt-6`}
            >
              <p className={`text-[#646464] text-md`}>Quiz Question {currentQuestionIndex + 1} of {quizData?.questions.length || 0}</p>
              <p className={`text-[#646464] text-xl`}>
                {question?.question}
              </p>
            </div>

            {/* options */}
            <div className="flex flex-col gap-4 p-6">
              {question?.options.map((opt: string, idx: number) => {
                const isSelected = selected === opt;
                return (
                  <button
                    key={idx}
                    onClick={() => answerQuestion(currentQuestionIndex, opt)}
                    className={`flex items-center gap-4 lg:w-full lg:h-[60px] text-left text-lg px-6 py-4 rounded-xl transition ${poppins.className} text-[#646464] ${isSelected ? 'bg-[rgb(226,237,246)]' : 'hover:bg-[rgb(226,237,246)]'}`}
                  >
                    <span className={`w-5 h-5 rounded-full border-2 border-[#646464] flex items-center justify-center ${isSelected ? 'bg-[#5D85A1] border-[#5D85A1]' : ''}`}></span>
                    <span>{opt}</span>
                  </button>
                );
              })}
            </div>

            <div className="flex absolute bottom-7 w-full lg:h-[40px] justify-end gap-5 pr-5">
              <button
                onClick={() => prev()} disabled={currentQuestionIndex === 0}
                className={`w-[105px] h-[35px] text-md rounded-2xl text-center border border-[#B9CDDD] ${poppins.className}`}
              >
                previous
              </button>
              <button
                onClick={() => next()} disabled={currentQuestionIndex === totalQuestions - 1}
                className={`w-[105px] h-[35px] text-md rounded-2xl text-center border border-[#B9CDDD] bg-[#558BB3] text-white ${poppins.className} hover:bg-[#5996c5]`}
              >
                next
              </button>
            </div>
          </div>
        </div>
      </div>

      {/* Overlay Confirmation Modal */}
      {showSubmitConfirm && (
        <div className="w-full h-[200vh] absolute inset-0 flex items-center justify-center bg-black/40">
          <div className="lg:w-[620px] lg:h-[383px] rounded-2xl bg-[#B8CCDB] border-[#B9CDDD] flex flex-col items-center justify-center gap-5 relative z-50 p-6">
            <div className="absolute -top-23 left-1/2 -translate-x-1/2">
              <svg
                width="145"
                height="192"
                viewBox="0 0 145 192"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M114.735 176.899C114.454 179.22 113.181 181.933 111.265 183.053C110.488 183.507 109.712 183.843 108.695 183.719C102.288 182.937 104.178 167.346 110.703 168.59C113.993 169.217 115.122 173.706 114.735 176.899ZM30.993 167.397C33.8928 168.352 37.2552 171.432 46.0453 173.684C47.4425 174.042 51.0239 174.498 51.9334 174.996C52.3099 175.926 52.1018 177.941 51.7202 179.024C50.938 181.244 42.5508 182.06 40.4698 182.323C34.8306 183.034 28.043 182.962 24.5196 179.419C23.3545 178.295 22.5391 177.758 22.4792 175.395C22.3984 172.208 24.3507 169.271 26.9469 167.75C28.6987 166.723 29.5891 165.991 30.993 167.397ZM105.347 184.702C101.139 185.306 87.9899 185.293 84.7323 182.077L84.329 181.642C82.7857 180.015 82.6026 178.102 82.9819 175.859C83.2157 174.477 83.1836 174.047 84.6381 173.723C85.7334 173.479 86.8086 173.28 87.8584 172.955C89.9021 172.323 91.7617 171.565 93.6064 170.673C97.1622 168.953 101.34 167.338 105.716 166.853C105.501 167.558 103.986 168.927 103.275 170.422C101.796 173.533 101.465 177.755 102.634 181.061C103.404 183.238 104.145 183.417 105.347 184.702ZM48.1887 101.072C57.874 99.8452 69.1065 102.334 75.8155 106.793C76.7354 107.404 77.4214 107.919 78.182 108.64C78.9171 109.337 79.6838 109.872 80.4287 110.616L82.3885 112.871C85.3405 116.434 88.0216 122.038 89.3775 126.985C92.0611 136.777 91.4809 147.165 87.1915 155.393C78.6337 171.809 51.9008 171.563 38.7872 163.438C35.2227 161.229 32.3172 158.923 29.9318 155.421C27.7045 152.15 26.0263 148.018 24.9977 143.472C22.4103 132.04 25.1832 114.741 33.6277 107.528C37.9416 103.842 41.474 101.922 48.1887 101.072ZM110.281 95.7902C115.69 95.0582 120.749 98.7949 124.169 102.546C124.72 103.15 125.092 103.252 125.581 103.87C128.083 107.032 131.341 110.98 133.293 114.526C135.891 119.244 138.039 123.579 139.658 129.278C140.519 132.31 142.403 140.083 138.645 141.843C137.351 142.448 135.649 142.384 134.216 142.123C127.689 140.932 121.062 135.22 116.691 130.493C116.294 130.064 115.837 129.695 115.425 129.232L110.828 123.272C108.233 119.53 105.456 114.167 104.048 108.955C102.926 104.802 102.7 99.9307 106.516 97.2621C107.441 96.6151 108.958 95.9693 110.281 95.7902ZM14.2076 133.728C12.929 134.069 10.9916 135.664 8.24265 135.843C-0.0846321 136.385 4.73402 122.708 6.31598 119.68C7.95728 116.539 7.34748 117.546 9.31166 114.658C10.3854 113.079 11.4106 111.7 12.6886 110.23C14.4241 108.234 17.491 104.925 19.561 103.383C19.8828 103.143 20.3329 102.775 20.6973 102.612C15.8448 112.354 13.5211 121.578 14.2076 133.728ZM24.1359 152.312C18.422 143.787 17.8443 129.344 19.9519 118.777C21.2429 112.304 22.6999 109.435 25.1669 103.926C26.1359 101.762 27.6855 99.3003 28.8847 97.5089L33.0602 91.6741L36.1946 92.71C39.9305 94.455 49.6591 96.0058 54.2483 96.7207C65.2197 98.4296 84.5468 98.571 95.2289 95.9014C99.6737 94.7906 103.519 93.6991 107.677 91.8794C109.495 91.0841 109.798 90.5307 111.106 92.2424C104.69 92.2195 100.551 96.6989 99.4214 102.391C98.1843 108.627 99.7121 115.397 101.675 121.031C103.249 125.548 105.781 129.651 108.675 133.232C108.92 133.535 109.043 133.725 109.234 133.943C109.503 134.249 109.573 134.278 109.838 134.598C111.433 136.521 111.709 136.405 112.513 137.414C113.539 138.701 117.166 141.504 118.505 142.396C119.325 142.941 121.199 143.839 121.862 144.397C121.143 148.078 118.376 152.3 116.089 155.161C114.504 157.144 113.192 158.334 111.22 159.791C110.782 160.114 110.333 160.438 109.861 160.757C107.206 162.558 106.569 162.538 103.068 163.239C98.0093 164.252 93.4575 166.197 88.5456 167.528C84.6859 168.574 75.9344 170.116 72.0409 169.629C73.4847 168.848 75.5277 168.274 77.1899 167.553C80.8375 165.97 84.9097 162.819 87.1214 159.544C87.596 158.841 88.0814 158.17 88.524 157.36C96.1216 143.455 93.7612 124.86 84.9608 112.418C84.4348 111.675 83.9654 111.177 83.3651 110.429C74.355 99.1964 54.863 96.7083 42.5154 100.367C34.8842 102.627 29.7359 107.333 26.7063 113.269C21.2863 123.888 20.4621 137.354 24.4745 149.041C25.0366 150.678 25.859 152.585 26.6425 154.055C27.4019 155.48 28.8368 157.5 29.2751 158.591C27.6623 157.822 24.6333 153.688 24.1359 152.312ZM19.7568 75.623L18.2479 72.9562C17.759 71.9719 17.3796 71.2049 16.9914 70.2104C14.2623 63.2201 14.0329 55.9305 14.7467 48.5535C15.6399 39.3214 20.5123 28.4476 25.7563 22.6221C26.2238 22.103 26.2949 21.8466 26.6806 21.4301L30.3114 17.8838C32.0139 16.0351 34.5036 14.4528 36.6376 13.0217C46.9304 6.11965 57.0205 4.9615 69.5995 5.36094C79.9527 5.77004 89.1954 6.25024 98.183 10.7664C102.137 12.7533 108.357 16.502 111.127 19.1337C115.719 23.4947 117.455 25.4232 120.839 30.7391C130.861 46.4842 129.718 69.8437 114.782 81.4659C95.827 96.2165 61.2461 95.7048 39.4344 89.7607C34.5187 88.4212 28.7829 85.7267 25.5638 82.5383L22.4093 79.3601C22.0846 78.9563 21.7812 78.6144 21.4618 78.1995C20.8845 77.4495 20.2044 76.4939 19.7568 75.623ZM13.0447 38.2916C10.8596 43.9903 10.1483 52.541 10.4974 58.7081C10.6896 65.9594 13.3437 73.5305 17.2886 79.6315C17.892 80.5646 18.4888 81.1643 18.9529 82.052C19.2597 82.2497 22.5203 85.9067 24.8942 87.6361C25.3083 87.9379 25.6652 88.1694 26.1406 88.5015C27.0746 89.1539 27.8743 89.5862 28.848 90.1963C28.3843 90.8747 27.9324 91.5087 27.2327 92.0598C25.8176 93.1748 26.4656 93.2888 24.3679 95.0996L21.5596 97.1507C20.0381 98.2119 18.8392 99.1156 17.4455 100.209L11.86 105.392C11.428 105.854 11.2641 105.861 10.8498 106.272L9.23483 108.246C6.92452 110.966 6.03214 112.411 4.18538 115.648C3.35052 117.112 2.62162 119.197 1.8741 120.374C1.08781 124.463 -1.72271 130.579 1.54407 135.898C2.47886 137.42 4.57447 139.438 7.07414 139.605C10.4242 139.83 12.0052 138.991 14.7211 137.707C14.78 143.896 19.6576 155.109 24.2982 160.201C25.0218 160.995 24.9261 161.389 25.9714 162.121C26.7138 162.64 26.6422 162.586 27.2449 163.392C25.889 164.214 24.0035 164.404 22.8095 165.729L21.33 167.195C19.058 170.142 18.4525 173.117 18.7844 177.195C19.2679 180.961 22.7931 184.01 25.6058 185.279C29.6858 187.12 34.106 187.306 38.7374 186.956C43.9135 186.566 52.1814 185.385 55.2962 181.106C56.6586 179.235 56.7771 178.131 57.3059 175.684L57.3357 174.672L65.115 175.491C67.3747 175.518 69.6834 175.635 71.9739 175.658C74.3854 175.682 76.57 175.467 78.8865 175.41C78.4842 180.031 79.3804 184.123 83.9016 186.497C87.9306 188.613 93.064 189.248 97.9335 189.292C102.54 189.333 108.392 189.11 112.247 186.992C113.342 186.391 113.677 185.88 114.386 185.116C114.957 184.501 114.924 184.461 115.311 183.935C116.97 181.683 117.804 179.547 118.439 176.435C118.814 173.004 117.423 168.754 115.359 166.643C114.897 166.17 114.945 166.42 114.381 165.714C114.411 165.673 114.47 165.566 114.487 165.603C114.505 165.639 114.572 165.515 114.597 165.496C115.485 164.795 116.536 164.459 117.96 162.951C118.381 162.505 118.738 162.282 119.186 161.85C119.631 161.42 119.785 161.197 120.191 160.742C123.701 156.806 125.665 153.389 127.488 148.203C127.869 147.122 128.052 145.843 128.536 144.83C132.152 145.43 138.667 148.959 143.042 143.073C145.945 139.169 144.173 131.043 142.773 126.57C140.547 119.464 136.813 113.041 132.853 106.943C131.565 104.96 131.137 104.702 130.212 103.469C129.999 103.185 129.931 102.998 129.707 102.697L128.761 101.775C128.398 101.283 128.684 102.102 128.595 101.406C127.691 100.95 127.154 100.158 126.394 99.4717C125.425 98.5973 121.455 94.211 121.004 92.964C119.971 92.7356 120.696 92.6801 119.254 91.2106L116.378 88.0065C116.487 87.8811 121.231 84.7239 123.184 82.6957C123.613 82.2508 123.778 82.0334 124.143 81.5411C124.959 80.441 125.322 80.37 126.851 78.1325C131.281 71.6475 133.591 63.9481 133.702 55.9655C133.809 48.3321 132.505 46.6485 131.792 41.1928L129.366 34.5683L125.681 27.793C124.099 25.1801 123.203 23.9475 121.305 21.6179C120.791 20.9872 120.627 20.8778 120.169 20.2181C119.6 19.3977 119.419 19.5504 118.795 18.8549C116.966 16.8164 112.635 12.5046 110.187 11.3964C110.112 11.0959 110.291 11.3926 109.903 11.0647L104.043 7.36977C99.9133 5.82448 94.8029 3.53859 88.1105 1.8586C81.4181 0.17861 63.3298 -0.683393 57.1888 0.659886C54.1182 1.23561 50.6139 1.41437 41.8401 5.57213C39.355 6.74975 37.3621 7.83597 35.2573 9.1236C34.2168 9.76027 33.2415 10.441 32.2431 11.1753L19.6474 24.3166C17.327 27.7537 14.3012 33.4116 13.0447 38.2916Z"
                  fill="white"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M48.1897 101.071C41.4751 101.922 37.9426 103.842 33.6288 107.527C25.1842 114.741 22.4114 132.04 24.9988 143.472C26.0273 148.017 27.7056 152.15 29.9329 155.42C32.3182 158.923 35.2238 161.228 38.7883 163.437C51.9019 171.563 78.6348 171.808 87.1926 155.393C91.482 147.164 92.0621 136.777 89.3786 126.985C88.0227 122.038 85.3416 116.434 82.3896 112.871L80.4297 110.616C79.6849 109.871 78.9182 109.336 78.1831 108.64C77.4224 107.919 76.7365 107.404 75.8165 106.792C69.1076 102.334 57.875 99.8448 48.1897 101.071Z"
                  fill="white"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M48.9395 20.159C61.8239 19.8007 81.6811 19.8905 92.6118 28.1522C93.1532 28.5613 93.5872 28.8257 93.9329 29.1562C94.4343 29.636 94.6458 29.9145 95.0746 30.3306L97.3523 32.9107C99.4279 35.6607 100.832 38.9649 101.681 42.5069C103.78 51.2659 102.131 67.3558 97.8495 74.6644C96.5225 76.9293 96.2292 77.1115 94.7893 78.78L92.3989 81.0329C91.8984 81.3943 91.5964 81.6328 91.0521 82.0074C85.974 85.5019 79.1217 87.0532 72.8258 87.2528C61.589 87.6093 49.5192 86.5977 38.5887 84.0745C32.7728 82.732 27.9065 80.0745 24.8071 76.5409C16.0399 66.5462 19.0199 43.0165 24.3418 33.2403L27.2016 28.9264C32.0978 22.8896 40.9085 20.3824 48.9395 20.159ZM19.7562 75.6229C20.2038 76.4937 20.8839 77.4494 21.4612 78.1994C21.7806 78.6143 22.084 78.9562 22.4087 79.36L25.5633 82.5381C28.7823 85.7266 34.5181 88.4211 39.4338 89.7606C61.2456 95.7047 95.8264 96.2164 114.782 81.4658C129.717 69.8436 130.86 46.4842 120.838 30.739C117.455 25.4231 115.718 23.4946 111.127 19.1336C108.356 16.5019 102.136 12.7532 98.1824 10.7663C89.1948 6.25014 79.9521 5.76994 69.5989 5.36084C69.0299 5.59611 64.0723 6.17806 62.7326 6.42523C56.2108 7.62887 50.4918 9.42063 44.7696 12.5126C42.921 13.5113 41.3796 14.3784 39.7147 15.4778L34.5018 19.3432C33.1514 20.5779 29.9522 23.3852 28.9788 24.7908C28.5673 25.3849 28.5409 25.2682 28.082 25.7863C27.7756 26.1323 27.6585 26.3607 27.2523 26.8541C26.9209 27.2567 26.6153 27.6229 26.32 28.0341C21.9989 34.053 18.8725 41.298 17.3198 48.7868C13.6792 66.346 19.3899 72.3196 19.7562 75.6229Z"
                  fill="url(#paint0_linear_378_102)"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M54.535 63.4841C59.8646 67.0976 63.9768 61.6511 65.0495 61.4472C67.7743 60.9289 67.5845 64.092 66.4144 65.3872L64.2474 67.0223C63.5776 67.4427 62.675 67.891 61.8001 68.1642C55.3518 70.1768 49.7054 66.1511 49.1396 63.3981C48.7365 61.4365 49.7041 61.215 50.1081 61.0164C51.9916 60.0901 52.1203 61.0542 53.6439 62.6858C54.2513 63.3363 53.8188 62.9986 54.535 63.4841ZM75.2274 41.5608C80.24 40.4984 82.0098 46.1256 81.8045 50.4852C81.5895 55.0515 79.6553 59.494 76.0723 60.4959C67.0454 63.0197 67.0214 43.3001 75.2274 41.5608ZM42.5772 41.0598C43.8087 40.654 44.9068 40.7605 46.0432 41.3724C52.2525 44.7156 49.9471 58.3656 44.0222 59.8816C36.8968 61.705 35.5646 50.3248 38.4859 44.851C39.3749 43.185 40.7441 41.6634 42.5772 41.0598ZM43.7233 28.2077C34.2072 28.8247 30.3177 33.7421 28.4073 42.7985C26.8376 50.2393 25.4123 62.5467 28.5377 69.2174C31.7844 76.1468 39.4169 77.653 48.8529 78.698C55.8276 79.4703 70.4786 80.2332 77.1526 79.5225C86.2493 78.5537 90.9059 73.6042 92.8653 65.449C95.1928 55.7613 95.9149 36.5771 84.5598 31.7803C77.6151 28.8465 66.0141 28.5494 58.2656 28.314C53.4902 28.1688 48.5006 27.8982 43.7233 28.2077Z"
                  fill="url(#paint1_linear_378_102)"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M36.196 92.7097C36.0069 93.4227 36.2546 92.9261 35.7133 93.5749C35.4504 93.8901 35.3379 93.9227 35.0578 94.1791C34.2567 94.9121 32.5832 97.3664 31.8747 98.3804L27.2688 106.229C26.9988 106.804 26.6958 107.222 26.4072 107.888C25.9158 109.022 25.4565 110.141 24.984 111.334C21.7463 119.509 20.5063 127.598 20.789 136.573C20.884 139.593 21.2961 142.326 21.9133 145.284C22.1817 146.571 24.142 152.262 24.1372 152.312C24.6347 153.687 27.6636 157.822 29.2765 158.591C28.8382 157.5 27.4033 155.479 26.6439 154.055C25.8604 152.585 25.038 150.678 24.4759 149.041C20.4634 137.354 21.2877 123.888 26.7077 113.269C29.7373 107.332 34.8855 102.627 42.5168 100.366C54.8644 96.708 74.3564 99.1961 83.3665 110.429C83.9668 111.177 84.4362 111.674 84.9622 112.418C93.7626 124.86 96.123 143.455 88.5254 157.359C88.0827 158.17 87.5974 158.841 87.1227 159.544C84.9111 162.819 80.8389 165.97 77.1913 167.553C75.5291 168.274 73.4861 168.848 72.0423 169.629C75.9358 170.116 84.6873 168.573 88.547 167.527C93.4588 166.196 98.0107 164.251 103.07 163.239C106.571 162.538 107.208 162.558 109.863 160.757C110.334 160.437 110.784 160.114 111.221 159.791C113.193 158.334 114.505 157.144 116.09 155.161C118.378 152.3 121.145 148.078 121.864 144.397C121.2 143.839 119.326 142.941 118.506 142.395C117.168 141.504 113.541 138.701 112.514 137.413C111.711 136.405 111.434 136.52 109.84 134.598C109.574 134.278 109.504 134.248 109.236 133.943C109.044 133.725 108.921 133.534 108.677 133.232C105.782 129.651 103.251 125.548 101.676 121.03C99.7135 115.397 98.1857 108.627 99.4228 102.391C100.552 96.6987 104.692 92.2193 111.107 92.2421C109.8 90.5304 109.496 91.0838 107.679 91.8792C103.52 93.6988 99.6751 94.7903 95.2303 95.9012C84.5482 98.5708 65.2211 98.4294 54.2497 96.7205C49.6605 96.0056 39.9319 94.4547 36.196 92.7097Z"
                  fill="url(#paint2_linear_378_102)"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M43.7214 28.2079C48.4988 27.8983 53.4883 28.169 58.2637 28.3142C66.0123 28.5496 77.6132 28.8467 84.558 31.7805C95.913 36.5773 95.191 55.7615 92.8634 65.4492C90.904 73.6043 86.2474 78.5539 77.1508 79.5227C70.4767 80.2334 55.8258 79.4704 48.8511 78.6982C39.415 77.6532 31.7825 76.147 28.5359 69.2176C25.4104 62.5469 26.8358 50.2394 28.4054 42.7987C30.3159 33.7423 34.2053 28.8249 43.7214 28.2079ZM99.7357 57.2316C100.643 45.7389 98.0415 35.6244 91.6164 30.4084C84.6224 24.7305 75.0623 23.4576 64.0925 22.7439C54.1716 22.0986 40.8171 21.7148 33.1822 26.466C26.2313 30.7917 23.3071 39.672 22.0633 50.5693C21.4467 55.972 21.1474 61.5029 22.6535 66.6706C27.2888 82.575 43.1246 83.6652 57.4057 84.6484C67.9674 85.3756 79.8428 86.0162 88.4538 81.3091C96.3126 77.013 99.0485 65.9343 99.7357 57.2316Z"
                  fill="white"
                />
                <path
                  opacity="0.4"
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M57.3068 175.684C56.778 178.131 56.6595 179.235 55.2971 181.106C52.1823 185.385 43.9144 186.565 38.7383 186.956C34.1069 187.306 29.6867 187.12 25.6068 185.279C22.794 184.01 19.2689 180.961 18.7853 177.195C16.7026 177.248 1.62253 179.188 0.298793 182.284C0.0338503 182.904 0.0881544 183.182 0.351277 183.714C1.37144 185.776 9.23378 187.309 11.5473 187.73C30.1084 191.116 56.0278 191.83 75.1407 191.736C89.77 191.664 112.314 191.15 126.246 188.738C128.162 188.406 149.836 185.737 141.292 180.823C136.248 177.921 122.135 177.441 118.44 176.435C117.805 179.547 116.971 181.683 115.312 183.935C114.925 184.46 114.958 184.501 114.387 185.116C113.678 185.88 113.342 186.391 112.248 186.992C108.393 189.11 102.541 189.333 97.9344 189.292C93.0649 189.248 87.9315 188.613 83.9025 186.497C79.3813 184.122 78.4851 180.031 78.8874 175.41C76.5709 175.467 74.3863 175.682 71.9748 175.658C69.6844 175.635 67.3756 175.518 65.116 175.491C63.7905 175.928 59.4377 175.314 57.3068 175.684Z"
                  fill="url(#paint3_radial_378_102)"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M110.283 95.7903C108.96 95.9694 107.443 96.6152 106.518 97.2622C102.702 99.9308 102.929 104.802 104.051 108.955C105.458 114.167 108.236 119.53 110.83 123.272L115.427 129.232C115.839 129.696 116.296 130.064 116.693 130.493C121.065 135.22 127.691 140.932 134.219 142.123C135.651 142.384 137.353 142.449 138.647 141.843C142.406 140.083 140.521 132.31 139.66 129.278C138.041 123.579 135.893 119.244 133.295 114.526C131.343 110.98 128.086 107.032 125.583 103.87C125.094 103.252 124.722 103.15 124.171 102.546C120.752 98.7951 115.693 95.0583 110.283 95.7903Z"
                  fill="url(#paint4_linear_378_102)"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M99.7375 57.2316C99.0503 65.9342 96.3144 77.013 88.4555 81.309C79.8445 86.0161 67.9692 85.3755 57.4074 84.6483C43.1264 83.6651 27.2906 82.5749 22.6553 66.6705C21.1492 61.5028 21.4484 55.9719 22.0651 50.5692C23.3089 39.6719 26.2331 30.7916 33.184 26.4659C40.8189 21.7147 54.1734 22.0985 64.0942 22.7438C75.0641 23.4575 84.6242 24.7304 91.6182 30.4083C98.0433 35.6243 100.645 45.7388 99.7375 57.2316ZM48.9417 20.1588C40.9107 20.3822 32.1 22.8894 27.2038 28.9262L24.344 33.2401C19.0221 43.0163 16.0421 66.546 24.8093 76.5407C27.9087 80.0743 32.775 82.7318 38.5909 84.0743C49.5214 86.5975 61.5912 87.6091 72.828 87.2526C79.1239 87.0531 85.9762 85.5017 91.0543 82.0072C91.5986 81.6326 91.9006 81.3941 92.4011 81.0327L94.7915 78.7798C96.2314 77.1113 96.5247 76.9291 97.8517 74.6642C102.133 67.3556 103.783 51.2657 101.683 42.5067C100.834 38.9647 99.4301 35.6605 97.3545 32.9105L95.0769 30.3305C94.648 29.9144 94.4365 29.6358 93.9351 29.1561C93.5894 28.8255 93.1554 28.5611 92.614 28.152C81.6833 19.8903 61.8261 19.8005 48.9417 20.1588Z"
                  fill="#5C85A1"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M24.5199 179.419C28.0433 182.962 34.8309 183.034 40.4701 182.322C42.5512 182.06 50.9383 181.244 51.7206 179.024C52.1021 177.941 52.3102 175.926 51.9337 174.996C51.0243 174.498 47.4429 174.042 46.0457 173.684C37.2555 171.432 33.8931 168.352 30.9933 167.397L30.3161 167.952C30.119 168.087 29.8469 168.286 29.5723 168.472C28.3492 169.297 26.9453 170.74 26.1201 171.986C25.0623 173.583 24.3709 175.522 24.454 177.538C24.4742 178.026 24.711 179.083 24.5199 179.419Z"
                  fill="url(#paint5_linear_378_102)"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M105.348 184.701C104.147 183.417 103.406 183.238 102.635 181.061C101.466 177.755 101.797 173.532 103.276 170.422C103.988 168.926 105.502 167.557 105.717 166.853C101.341 167.338 97.1635 168.953 93.6077 170.673C91.7631 171.565 89.9034 172.323 87.8597 172.955C86.8099 173.28 85.7347 173.479 84.6394 173.723C83.185 174.047 83.217 174.477 82.9833 175.859C82.604 178.102 82.7871 180.015 84.3304 181.642L84.7336 182.077C87.9913 185.293 101.141 185.306 105.348 184.701Z"
                  fill="url(#paint6_linear_378_102)"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M19.7582 75.6233C19.3919 72.32 13.6812 66.3464 17.3218 48.7872C18.8745 41.2984 22.0009 34.0534 26.322 28.0344C26.6173 27.6232 26.9229 27.2571 27.2543 26.8544C27.6605 26.3611 27.7776 26.1327 28.084 25.7867C28.5429 25.2686 28.5693 25.3853 28.9808 24.7912C29.9542 23.3856 33.1534 20.5783 34.5038 19.3435L39.7167 15.4782C41.3816 14.3788 42.923 13.5117 44.7716 12.513C50.4938 9.42101 56.2128 7.62925 62.7346 6.42561C64.0743 6.17844 69.0319 5.59649 69.6009 5.36122C57.0219 4.96178 46.9318 6.11994 36.639 13.022C34.505 14.4531 32.0153 16.0353 30.3128 17.8841L26.682 21.4303C26.2963 21.8469 26.2252 22.1033 25.7577 22.6224C20.5137 28.4479 15.6413 39.3217 14.7481 48.5538C14.0343 55.9308 14.2637 63.2204 16.9928 70.2107C17.381 71.2052 17.7604 71.9722 18.2493 72.9565L19.7582 75.6233Z"
                  fill="#5D85A1"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M14.2082 133.728C13.5217 121.578 15.8454 112.354 20.6979 102.612C20.3335 102.775 19.8834 103.143 19.5616 103.383C17.4916 104.925 14.4247 108.234 12.6892 110.23C11.4112 111.7 10.386 113.079 9.31224 114.658C7.34806 117.546 7.95786 116.539 6.31656 119.68C4.7346 122.707 -0.0840499 136.385 8.24324 135.843C10.9922 135.664 12.9296 134.069 14.2082 133.728Z"
                  fill="url(#paint7_linear_378_102)"
                />
                <g filter="url(#filter0_d_378_102)">
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M75.2256 41.5615C67.0197 43.3008 67.0436 63.0204 76.0705 60.4966C79.6535 59.4947 81.5877 55.0522 81.8027 50.4859C82.008 46.1263 80.2382 40.4991 75.2256 41.5615Z"
                    fill="white"
                  />
                </g>
                <g filter="url(#filter1_d_378_102)">
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M42.576 41.0603C40.7429 41.664 39.3737 43.1856 38.4847 44.8515C35.5634 50.3253 36.8956 61.7055 44.021 59.8821C49.9459 58.3661 52.2513 44.7162 46.042 41.373C44.9056 40.7611 43.8075 40.6546 42.576 41.0603Z"
                    fill="white"
                  />
                </g>
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M24.1362 152.313C24.141 152.262 22.1807 146.571 21.9122 145.284C21.295 142.326 20.883 139.593 20.788 136.574C20.5052 127.598 21.7453 119.51 24.983 111.335C25.4555 110.141 25.9148 109.022 26.4062 107.888C26.6948 107.223 26.9978 106.805 27.2678 106.229L31.8737 98.3809C32.5822 97.3669 34.2557 94.9125 35.0568 94.1796C35.3368 93.9232 35.4494 93.8906 35.7122 93.5754C36.2536 92.9265 36.0058 93.4231 36.1949 92.7102L33.0605 91.6743L28.885 97.5091C27.6858 99.3006 26.1362 101.762 25.1673 103.926C22.7002 109.436 21.2432 112.304 19.9523 118.777C17.8446 129.344 18.4224 143.787 24.1362 152.313Z"
                  fill="#5C85A1"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M50.1058 61.0167C49.7019 61.2153 48.7342 61.4369 49.1373 63.3984C49.7031 66.1514 55.3495 70.1772 61.7978 68.1645C62.6727 67.8913 63.5753 67.4431 64.2452 67.0226L66.4121 65.3875C67.5822 64.0923 67.772 60.9292 65.0473 61.4475C63.9745 61.6514 59.8623 67.0979 54.5327 63.4844C53.8165 62.9989 54.249 63.3367 53.6416 62.6861C52.118 61.0545 51.9894 60.0905 50.1058 61.0167Z"
                  fill="white"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M112.407 177.322C112.07 179.061 110.803 181.456 108.652 180.535C107.124 179.881 106.716 176.934 107.087 175.044C108.209 169.331 113.494 171.718 112.407 177.322ZM114.736 176.899C115.123 173.706 113.994 169.217 110.704 168.59C104.179 167.347 102.289 182.937 108.696 183.719C109.713 183.843 110.489 183.507 111.266 183.053C113.182 181.933 114.455 179.221 114.736 176.899Z"
                  fill="#84A7BE"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M112.405 177.322C113.493 171.718 108.207 169.331 107.085 175.045C106.714 176.935 107.122 179.881 108.65 180.535C110.801 181.456 112.068 179.061 112.405 177.322Z"
                  fill="#5C85A1"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M24.5214 179.42C24.7124 179.083 24.4756 178.027 24.4555 177.538C24.3723 175.523 25.0637 173.583 26.1216 171.986C26.9467 170.741 28.3507 169.298 29.5738 168.472C29.8484 168.287 30.1205 168.088 30.3175 167.952L30.9948 167.397C29.5908 165.991 28.7004 166.723 26.9487 167.75C24.3525 169.272 22.4002 172.208 22.4809 175.395C22.5408 177.758 23.3562 178.295 24.5214 179.42Z"
                  fill="#5C85A1"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M57.3066 175.684C59.4375 175.315 63.7904 175.928 65.1158 175.492L57.3365 174.672L57.3066 175.684Z"
                  fill="#3B6788"
                />
                <defs>
                  <filter
                    id="filter0_d_378_102"
                    x="49.1816"
                    y="21.4307"
                    width="52.6367"
                    height="59.2886"
                    filterUnits="userSpaceOnUse"
                    color-interpolation-filters="sRGB"
                  >
                    <feFlood flood-opacity="0" result="BackgroundImageFix" />
                    <feColorMatrix
                      in="SourceAlpha"
                      type="matrix"
                      values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                      result="hardAlpha"
                    />
                    <feOffset />
                    <feGaussianBlur stdDeviation="10" />
                    <feComposite in2="hardAlpha" operator="out" />
                    <feColorMatrix
                      type="matrix"
                      values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"
                    />
                    <feBlend
                      mode="normal"
                      in2="BackgroundImageFix"
                      result="effect1_dropShadow_378_102"
                    />
                    <feBlend
                      mode="normal"
                      in="SourceGraphic"
                      in2="effect1_dropShadow_378_102"
                      result="shape"
                    />
                  </filter>
                  <filter
                    id="filter1_d_378_102"
                    x="17.0371"
                    y="20.8188"
                    width="52.6855"
                    height="59.2588"
                    filterUnits="userSpaceOnUse"
                    color-interpolation-filters="sRGB"
                  >
                    <feFlood flood-opacity="0" result="BackgroundImageFix" />
                    <feColorMatrix
                      in="SourceAlpha"
                      type="matrix"
                      values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                      result="hardAlpha"
                    />
                    <feOffset />
                    <feGaussianBlur stdDeviation="10" />
                    <feComposite in2="hardAlpha" operator="out" />
                    <feColorMatrix
                      type="matrix"
                      values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"
                    />
                    <feBlend
                      mode="normal"
                      in2="BackgroundImageFix"
                      result="effect1_dropShadow_378_102"
                    />
                    <feBlend
                      mode="normal"
                      in="SourceGraphic"
                      in2="effect1_dropShadow_378_102"
                      result="shape"
                    />
                  </filter>
                  <linearGradient
                    id="paint0_linear_378_102"
                    x1="16.1113"
                    y1="49.5089"
                    x2="127.365"
                    y2="49.5089"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop stop-color="#85A7BE" />
                    <stop offset="1" stop-color="#647F91" />
                  </linearGradient>
                  <linearGradient
                    id="paint1_linear_378_102"
                    x1="26.6797"
                    y1="53.9352"
                    x2="94.2711"
                    y2="53.9352"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop stop-color="#85A7BE" />
                    <stop offset="1" stop-color="#647F91" />
                  </linearGradient>
                  <linearGradient
                    id="paint2_linear_378_102"
                    x1="20.75"
                    y1="130.42"
                    x2="121.864"
                    y2="130.42"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop stop-color="#85A7BE" />
                    <stop offset="1" stop-color="#647F91" />
                  </linearGradient>
                  <radialGradient
                    id="paint3_radial_378_102"
                    cx="0"
                    cy="0"
                    r="1"
                    gradientUnits="userSpaceOnUse"
                    gradientTransform="translate(71.7013 183.577) scale(71.5763 8.16705)"
                  >
                    <stop stop-color="#596E7C" />
                    <stop offset="1" stop-color="#A3C8E2" />
                  </radialGradient>
                  <linearGradient
                    id="paint4_linear_378_102"
                    x1="103.332"
                    y1="119.006"
                    x2="140.901"
                    y2="119.006"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop stop-color="#85A7BE" />
                    <stop offset="1" stop-color="#647F91" />
                  </linearGradient>
                  <linearGradient
                    id="paint5_linear_378_102"
                    x1="24.4473"
                    y1="175.038"
                    x2="52.1324"
                    y2="175.038"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop stop-color="#85A7BE" />
                    <stop offset="1" stop-color="#647F91" />
                  </linearGradient>
                  <linearGradient
                    id="paint6_linear_378_102"
                    x1="82.8145"
                    y1="175.931"
                    x2="105.717"
                    y2="175.931"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop stop-color="#85A7BE" />
                    <stop offset="1" stop-color="#647F91" />
                  </linearGradient>
                  <linearGradient
                    id="paint7_linear_378_102"
                    x1="3.49023"
                    y1="119.235"
                    x2="20.6979"
                    y2="119.235"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop stop-color="#85A7BE" />
                    <stop offset="1" stop-color="#647F91" />
                  </linearGradient>
                </defs>
              </svg>
            </div>
            <p className={`${poppins.className} text-[#646464] lg:text-xl`}>
              Are you sure you want to submit ?
            </p>
            <button onClick={() => submitQuiz(getToken, "Postman")} className="lg:w-[532px] lg:h-[50px] bg-[#558BB3] text-center text-xl rounded-2xl text-white hover:bg-[#add3f0]">
              YES, I WANT TO SUBMIT
            </button>
            <button
              onClick={() => closeSubmitConfirm()}
              className="lg:w-[532px] lg:h-[50px] text-center text-xl rounded-2xl text-[#7B9EB9] border-[#7B9EB9] border-1 hover:bg-[#adc2d3]"
            >
              Cancel
            </button>
          </div>
        </div>
      )}
    </div>
  );
};

export default QuizPlayer;
